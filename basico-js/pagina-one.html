<html>
  <head>
    <title>Programando en JS</title>
  </head>
<body>
  <div id="root"></div>
  <script>
    const root = document.getElementById("root");
    root.innerHTML="<h1>Expresiones Regulares</h1>";
 </script>
 <form name="formulario">
   Introduce cadena:
   <input type="text" value="" name="txtcadena" maxlength="13"/>
   <input type="button" value="Enviar" onclick="enviar();"/>
 </form>
 <script>
  var formularioRev= document.forms.formulario;

  function trim(cad){
    return cad.trim();
  }

  function validar(){
    // Cadenas que no contengan a-e, tifus, costo, cobro ...
    var expr1 = /[^a-e]/; 
    // Cadenas que contengan e.t, extenuante, extinción, extra ...
    var expr2 = /e.t/;
    // Cadena que empiece con F
    var expr3 = /^F/;
    // Cadena que empiece con X
    var expr4 = /^X/;
    // Cadena que empiece con A o a
    var expr5 = /^A|a/;
    // Cadena que empiece con F o f
    var expr6 = /^F|f/;
    // Cadena que contenga del 0 al 9
    var expr7 = /[0-9]/;
    // Cadena que no contenga del 0 al 9
    var expr8 = /[^0-9]/;
    // Cadena de solo números y letras, falla si se coloca algún número o letra con caracteres raros
    var expr9 = /[A-Za-z0-9]/;
    // Cadena que termine en u
    var expr10 = /u$/;
    // Cadena que termine en U o u
    var expr11 = /U|u$/;
    // Cadena que contenga vocales
    var expr12 = /[aeiou]/g;
    // Cadena que contenga números del 1 al 3
    var expr13 = new RegExp("[123]","g");
    // Cadena que contenga la palabra Ribola
    var expr14 = new RegExp("Ribola","g"); 
    //console.log(expr14.exec("El sultán de Ribola"));
    // Cadena que contenga nis o NIS
    var expr15 = /nis/gi;
    // Cadena que contenga Tenis, T9nis, Tnnis, T%nis, T3nis ...
    var expr16 = new RegExp("T.nis","g");

    var strongRegex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#\\$%\^&\*])(?=.{8,})/;

    if(!strongRegex.test(formularioRev.txtcadena.value)){
        //this.error.show = true;
        //this.error.message = 'La contraseña no cumple los requisitos';
        alert('La contraseña no cumple los requisitos')
        return false;
    }
    

    /*if(!expr1.test(formularioRev.txtcadena.value)){
      alert("La cadena no cumple con el patrón");
      return false;
    }*/

    /*if(!expr2.test(trim(formularioRev.txtcadena.value))){
      alert("La cadena no cumple con el patrón");
      return false;
    }*/

    /*if(!expr3.test(trim(formularioRev.txtcadena.value))){
      alert("La cadena no cumple con el patrón");
      return false;
    }*/

    /*if(!expr4.test(trim(formularioRev.txtcadena.value))){
      alert("La cadena no cumple con el patrón");
      return false;
    }*/

    /*if(!expr5.test(trim(formularioRev.txtcadena.value))){
      alert("La cadena no cumple con el patrón");
      return false;
    }*/

    /*if(!expr6.test(trim(formularioRev.txtcadena.value))){
      alert("La cadena no cumple con el patrón");
      return false;
    }*/

    /*if(!expr7.test(trim(formularioRev.txtcadena.value))){
      alert("La cadena no cumple con el patrón");
      return false;
    }*/

    /*if(!expr8.test(trim(formularioRev.txtcadena.value))){
      alert("La cadena no cumple con el patrón");
      return false;
    }*/

    /*if(!expr9.test(trim(formularioRev.txtcadena.value))){
      alert("La cadena no cumple con el patrón");
      return false;
    }*/

    /*if(!expr10.test(trim(formularioRev.txtcadena.value))){
      alert("La cadena no cumple con el patrón");
      return false;
    }*/

    /*if(!expr11.test(trim(formularioRev.txtcadena.value))){
      alert("La cadena no cumple con el patrón");
      return false;
    }*/

    /*if(!expr12.test(trim(formularioRev.txtcadena.value))){
      alert("La cadena no cumple con el patrón");
      return false;
    }*/

    /*if(!expr13.test(trim(formularioRev.txtcadena.value))){
      alert("La cadena no cumple con el patrón");
      return false;
    }*/

    /*if(!expr14.test(trim(formularioRev.txtcadena.value))){
      alert("La cadena no cumple con el patrón");
      return false;
    }*/

    /*if(!expr15.test(trim(formularioRev.txtcadena.value))){
      alert("La cadena no cumple con el patrón");
      return false;
    }*/

    /*if(!expr16.test(trim(formularioRev.txtcadena.value))){
      alert("La cadena no cumple con el patrón");
      return false;
    }*/

    return true;
  }

  function enviar(){
    if(validar()){
      alert("Datos enviados");
    }else{
      formularioRev.txtcadena.value ="";
    }
  }
</script>

<div id="container">
<p class="prrf1">Este es un simple párrafo1. Javascript2 nos permite hacer uso de muchas3 funciones para4 manipulación de cadenas. 
Sin embargo, la mejor5 forma de obtener una cadena que cumpla cierto criterio8 es con el uso de Regex.   
</p>
<br/>
<p class="prrf2">inforhomex20021</p>
</div>
<script>
  const prrf1 = document.querySelector(".prrf1");
  const prrf2 = document.querySelector(".prrf2");
  console.log("Texto 1:",prrf1.innerText);
  console.log("Texto 2:",prrf2.innerText);  
  let newPrrf1 = prrf1.innerText.replace(/\d/g,"");
  newPrrf1 = newPrrf1.replace(/\s\s/gu," ");
  let newPrrf2 = prrf2.innerText.replace(/\w+/g,"inforhomex @2021");
  prrf1.innerHTML = newPrrf1;
  prrf2.innerHTML = newPrrf2;
</script>

<div id="subcontainer">
  <p class="prrf3">En ün lügar de la Mancha, el teniente y lügarteniente del hüerto cosecharon müchas üvas. 
    Algunas verdes y, otras más, azüles como el cielo azül.</p>
</div>
<script>
  const prrf3 = document.querySelector(".prrf3");
  let newPrrf3 = prrf3.innerText.replace(/\u00FC/g,"u");
  prrf3.innerHTML = newPrrf3;
</script>

<div id="contenedor">
  <p class="prrf4"></p>
</div>
<script>
  const palabras = ["\tGato con \nsotas $500","\nGato con \tsotas $500.00"];
  let prrf4 = document.querySelector(".prrf4");
  prrf4.innerHTML ="<br/>1:"+palabras[0].match(/sotas/g);
  prrf4.innerHTML += "<br/>2:"+palabras[1].match(/\n/g);
  prrf4.innerHTML += "<br/>3:"+palabras[1].match(/\$/g);
  prrf4.innerHTML += "<br/>4:"+palabras[0].match(/\$/g);
  prrf4.innerHTML += "<br/>5:"+palabras[0].match(/\t/g);
  prrf4.innerHTML += "<br/>6:"+palabras[1].match(/\t/g);
</script>

<div id="contienedortwo">
  <p class="prrf5">Susana tiene 3 años de servicio, Juan 2 años de servicio y Maria 4 años de servicio.</p>
  <label class="lblResultado"></label>
</div>
<script>
  const prrf5 = document.querySelector(".prrf5");
  let lblResultado = document.querySelector(".lblResultado");
  var regxNums = /\d/g; 
  console.log("Texto:",prrf5.innerText);
  let numsPrrf5 = prrf5.innerText.match(regxNums);
  let sumaNums = 0;
  console.log("Numeros obtenidos:",numsPrrf5);
  for(let n in numsPrrf5){
    sumaNums += parseInt(numsPrrf5[n]);
    console.log("Numero: ",numsPrrf5[n]);
  }
  lblResultado.innerHTML = "No. total de años de servicio: <font color='red'>"+sumaNums+" años </font> de servicio";
</script>
<a href="index.html">Regresar</a>
</body>
</html>
